<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì§ˆë¬¸ í˜ì´ì§€</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background-color: #f8f5f0;
      font-family: 'Pretendard', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
      max-width: 480px;
      width: 100%;
      text-align: center;
    }
    h2 {
      font-size: 20px;
      margin-bottom: 24px;
      color: #4b2e2e;
    }
    .option {
      display: block;
      margin: 10px auto;
      background-color: #d6b48c;
      color: white;
      padding: 12px 20px;
      font-size: 15px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .option:hover {
      background-color: #c5976d;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 id="question-title">ì§ˆë¬¸</h2>
    <button class="option" onclick="answer('A')" id="btnA"></button>
    <button class="option" onclick="answer('B')" id="btnB"></button>
  </div>

  <script>
    const questions = [
      {
        title: '1. ë‹¹ì‹ ì˜ ì·¨í–¥ì¸ ì»¤í”¼ ì¶”ì¶œ ë°©ì‹ì€?',
        A: 'SHOTSHOTSHOT. ì§„í•˜ê³  ê¹”ë”í•œ ì—ìŠ¤í”„ë ˆì†Œ ìƒ·!',
        B: 'BREWì•¼ë§ë¡œ ì»¤í”¼ ì¶”ì¶œì˜ ì •ìˆ˜! ì½œë“œë¸Œë£¨, ë“œë¦½ì»¤í”¼ì˜ í’ë¯¸ê°€ ì¢‹ì•„!'
      },
      {
        title: '2. ë‹¹ì‹ ì˜ ì»¤í”¼ ì˜¨ë„ëŠ”?',
        A: 'ìê³ ë¡œ ì»¤í”¼ëŠ” ëœ¨ê²ê²Œ ë§ˆì…”ì•¼ ê·¸ í–¥ì„ ëŠë¼ì§€.',
        B: 'í•œêµ­ì¸ì€ ì•„ì´ìŠ¤, ê²¨ìš¸ì´ë¼ë„ ì•„ì´ìŠ¤!'
      },
      {
        title: '3. ë‹¹ì‹ ì˜ ë² ì´ìŠ¤ íƒ€ì…ì€?',
        A: 'ìš°ìœ ê°€ ë“¤ì–´ê°„ ë¶€ë“œëŸ¬ìš´ ì»¤í”¼!',
        B: 'ìš°ìœ ê°€ ì•ˆë“¤ì–´ê°„ê²Œ ì¢‹ì•„! ì°¨ë¼ë¦¬ ë‘ìœ , ì˜¤íŠ¸!'
      },
      {
        title: '4. ë‹¹ì‹ ì˜ ë‹¹ë„ ì·¨í–¥ì€?',
        A: 'ë‹¬ë‹¬í•˜ê²Œ ì…ì•ˆì„ ê°ë„ëŠ” ë§›ì´ ì¢‹ì•„!',
        B: 'ì»¤í”¼ëŠ” ìê³ ë¡œ ë³¸ì—°ì˜ í–¥ê³¼ í’ë¯¸ì˜ ë§›ì´ì§€'
      }
    ];
  
    const params = new URLSearchParams(window.location.search);
    const q = parseInt(params.get('q')) || 0;
    let answers = JSON.parse(localStorage.getItem('ctmiAnswers') || '[]');
  
    const current = questions[q];
    if (current) {
      document.getElementById('question-title').textContent = current.title;
      document.getElementById('btnA').textContent = current.A;
      document.getElementById('btnB').textContent = current.B;
    } else {
      const result = mapToCTMI(answers); 
      localStorage.removeItem('ctmiAnswers');
      window.location.href = `result.html?type=${result}`;
    }
  
    function answer(choice) {
      answers.push(choice);
      localStorage.setItem('ctmiAnswers', JSON.stringify(answers));
    
      if (q + 1 < questions.length) {
        window.location.href = `question.html?q=${q + 1}`;
      } else {
        const result = mapToCTMI(answers);
        localStorage.removeItem('ctmiAnswers');
        window.location.href = `result.html?type=${result}`;
      }
    }

    // ğŸ§  ì»¤í”¼ ì¢…ë¥˜(E/B), ì˜¨ë„(H/I), ìš°ìœ (M/N), ë‹¹ë„(S/U)
    function mapToCTMI(codeArray) {
      const map = [
        { A: 'E', B: 'B' }, // 0: ì¶”ì¶œë°©ì‹ (ì¢…ë¥˜)
        { A: 'H', B: 'I' }, // 1: ì˜¨ë„
        { A: 'M', B: 'N' }, // 2: ìš°ìœ 
        { A: 'S', B: 'U' }  // 3: ë‹¹ë„
      ];
      return codeArray.map((ans, idx) => map[idx][ans]).join('');
    }

    if (q === 0) localStorage.removeItem('ctmiAnswers');
  </script>
</body>
</html>
